<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Ação para abrir a vista de gerenciamento em massa -->
    <record id="action_product_ai_mass_management" model="ir.actions.act_window">
        <field name="name">Gestão de Produtos e Estoque</field>
        <field name="res_model">product.template</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="product_ai_mass_management_view_tree"/>
        <field name="search_view_id" ref="product_ai_mass_management_search_view"/>
        <field name="context">{'search_default_active': 1, 'search_default_not_synced': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Gerencie seus produtos e estoque
            </p>
            <p>
                Selecione produtos para sincronizar com o sistema de IA,
                ajuste preços específicos e gerencie descrições em massa.
            </p>
            <div class="alert alert-info" role="alert">
                <p><strong>Dica:</strong> Defina preços e gerencie seu estoque de forma eficiente.</p>
            </div>
        </field>
    </record>

    <!-- Menu Principal para Gestão de Produtos e Estoque -->
    <menuitem id="menu_ai_system_root"
              name="Gestão de Produtos e Estoque"
              web_icon="product_ai_mass_management,static/description/icon.png"
              sequence="80"/>

    <!-- Submenu para Gerenciamento em Massa -->
    <menuitem id="menu_product_ai_mass_management"
              name="Produtos e Estoque"
              parent="menu_ai_system_root"
              action="action_product_ai_mass_management"
              sequence="10"/>

    <!-- Menu alternativo no catálogo de produtos -->
    <menuitem id="menu_product_ai_mass_management_catalog"
              name="Gestão de Produtos e Estoque"
              parent="sale.product_menu_catalog"
              action="action_product_ai_mass_management"
              sequence="6"/>

    <!-- Menu alternativo no controle de inventário -->
    <menuitem id="menu_product_ai_mass_management_inventory"
              name="Gestão de Produtos e Estoque"
              parent="stock.menu_stock_inventory_control"
              action="action_product_ai_mass_management"
              sequence="6"/>

    <!-- Ações de Servidor para Operações em Massa -->
    <record id="action_generate_descriptions_mass" model="ir.actions.server">
        <field name="name">Gerar Descrições</field>
        <field name="model_id" ref="product.model_product_template"/>
        <field name="binding_model_id" ref="product.model_product_template"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">action = records.generate_descriptions_mass()</field>
    </record>

    <record id="action_sync_mass_products" model="ir.actions.server">
        <field name="name">Sincronizar com IA</field>
        <field name="model_id" ref="product.model_product_template"/>
        <field name="binding_model_id" ref="product.model_product_template"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">action = records.sync_with_ai_mass()</field>
    </record>
</odoo>
